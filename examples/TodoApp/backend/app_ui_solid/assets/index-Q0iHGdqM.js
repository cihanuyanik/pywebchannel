var it=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Rn=it((Bn,me)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const rt=(e,t)=>e===t,U=Symbol("solid-proxy"),pe=Symbol("solid-track"),oe={equals:rt};let Te=De;const T=1,se=2,Pe={owned:null,cleanups:null,context:null,owner:null};var p=null;let ye=null,g=null,m=null,E=null,de=0;function te(e,t){const n=g,o=p,s=e.length===0,i=t===void 0?o:t,r=s?Pe:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=s?e:()=>e(()=>R(()=>he(r)));p=r,g=null;try{return X(l,!0)}finally{g=n,p=o}}function Me(e,t){t=t?Object.assign({},oe,t):oe;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},o=s=>(typeof s=="function"&&(s=s(n.value)),Re(n,s));return[Ue.bind(n),o]}function N(e,t,n){const o=be(e,t,!1,T);Z(o)}function lt(e,t,n){Te=at;const o=be(e,t,!1,T);(!n||!n.render)&&(o.user=!0),E?E.push(o):Z(o)}function ae(e,t,n){n=n?Object.assign({},oe,n):oe;const o=be(e,t,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,Z(o),Ue.bind(o)}function ct(e){return X(e,!1)}function R(e){if(g===null)return e();const t=g;g=null;try{return e()}finally{g=t}}function ft(e){lt(()=>R(e))}function Le(e){return p===null||(p.cleanups===null?p.cleanups=[e]:p.cleanups.push(e)),e}function we(){return g}function Ue(){if(this.sources&&this.state)if(this.state===T)Z(this);else{const e=m;m=null,X(()=>re(this),!1),m=e}if(g){const e=this.observers?this.observers.length:0;g.sources?(g.sources.push(this),g.sourceSlots.push(e)):(g.sources=[this],g.sourceSlots=[e]),this.observers?(this.observers.push(g),this.observerSlots.push(g.sources.length-1)):(this.observers=[g],this.observerSlots=[g.sources.length-1])}return this.value}function Re(e,t,n){let o=e.value;return(!e.comparator||!e.comparator(o,t))&&(e.value=t,e.observers&&e.observers.length&&X(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],r=ye&&ye.running;r&&ye.disposed.has(i),(r?!i.tState:!i.state)&&(i.pure?m.push(i):E.push(i),i.observers&&Be(i)),r||(i.state=T)}if(m.length>1e6)throw m=[],new Error},!1)),t}function Z(e){if(!e.fn)return;he(e);const t=de;ut(e,e.value,t)}function ut(e,t,n){let o;const s=p,i=g;g=p=e;try{o=e.fn(t)}catch(r){return e.pure&&(e.state=T,e.owned&&e.owned.forEach(he),e.owned=null),e.updatedAt=n+1,Qe(r)}finally{g=i,p=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Re(e,o):e.value=o,e.updatedAt=n)}function be(e,t,n,o=T,s){const i={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:p,context:p?p.context:null,pure:n};return p===null||p!==Pe&&(p.owned?p.owned.push(i):p.owned=[i]),i}function ie(e){if(e.state===0)return;if(e.state===se)return re(e);if(e.suspense&&R(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<de);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===T)Z(e);else if(e.state===se){const o=m;m=null,X(()=>re(e,t[0]),!1),m=o}}function X(e,t){if(m)return e();let n=!1;t||(m=[]),E?n=!0:E=[],de++;try{const o=e();return dt(n),o}catch(o){n||(E=null),m=null,Qe(o)}}function dt(e){if(m&&(De(m),m=null),e)return;const t=E;E=null,t.length&&X(()=>Te(t),!1)}function De(e){for(let t=0;t<e.length;t++)ie(e[t])}function at(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:ie(o)}for(t=0;t<n;t++)ie(e[t])}function re(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const o=e.sources[n];if(o.sources){const s=o.state;s===T?o!==t&&(!o.updatedAt||o.updatedAt<de)&&ie(o):s===se&&re(o,t)}}}function Be(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=se,n.pure?m.push(n):E.push(n),n.observers&&Be(n))}}function he(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),o=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),r=n.observerSlots.pop();o<s.length&&(i.sourceSlots[r]=o,s[o]=i,n.observerSlots[o]=r)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)he(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function ht(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Qe(e,t=p){throw ht(e)}const gt=Symbol("fallback");function Ae(e){for(let t=0;t<e.length;t++)e[t]()}function yt(e,t,n={}){let o=[],s=[],i=[],r=0,l=t.length>1?[]:null;return Le(()=>Ae(i)),()=>{let f=e()||[],u,c;return f[pe],R(()=>{let a=f.length,h,j,P,M,D,A,x,k,B;if(a===0)r!==0&&(Ae(i),i=[],o=[],s=[],r=0,l&&(l=[])),n.fallback&&(o=[gt],s[0]=te(st=>(i[0]=st,n.fallback())),r=1);else if(r===0){for(s=new Array(a),c=0;c<a;c++)o[c]=f[c],s[c]=te(d);r=a}else{for(P=new Array(a),M=new Array(a),l&&(D=new Array(a)),A=0,x=Math.min(r,a);A<x&&o[A]===f[A];A++);for(x=r-1,k=a-1;x>=A&&k>=A&&o[x]===f[k];x--,k--)P[k]=s[x],M[k]=i[x],l&&(D[k]=l[x]);for(h=new Map,j=new Array(k+1),c=k;c>=A;c--)B=f[c],u=h.get(B),j[c]=u===void 0?-1:u,h.set(B,c);for(u=A;u<=x;u++)B=o[u],c=h.get(B),c!==void 0&&c!==-1?(P[c]=s[u],M[c]=i[u],l&&(D[c]=l[u]),c=j[c],h.set(B,c)):i[u]();for(c=A;c<a;c++)c in P?(s[c]=P[c],i[c]=M[c],l&&(l[c]=D[c],l[c](c))):s[c]=te(d);s=s.slice(0,r=a),o=f.slice(0)}return s});function d(a){if(i[c]=a,l){const[h,j]=Me(c);return l[c]=j,t(f[c],h)}return t(f[c])}}}function $(e,t){return R(()=>e(t||{}))}function pt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ae(yt(()=>e.each,e.children,t||void 0))}const wt=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],_t=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...wt]),mt=new Set(["innerHTML","textContent","innerText","children"]),bt=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),$t=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Ct(e,t){const n=$t[e];return typeof n=="object"?n[t]?n.$:void 0:n}const St=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),vt={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function At(e,t,n){let o=n.length,s=t.length,i=o,r=0,l=0,f=t[s-1].nextSibling,u=null;for(;r<s||l<i;){if(t[r]===n[l]){r++,l++;continue}for(;t[s-1]===n[i-1];)s--,i--;if(s===r){const c=i<o?l?n[l-1].nextSibling:n[i-l]:f;for(;l<i;)e.insertBefore(n[l++],c)}else if(i===l)for(;r<s;)(!u||!u.has(t[r]))&&t[r].remove(),r++;else if(t[r]===n[i-1]&&n[l]===t[s-1]){const c=t[--s].nextSibling;e.insertBefore(n[l++],t[r++].nextSibling),e.insertBefore(n[--i],c),t[s]=n[i]}else{if(!u){u=new Map;let d=l;for(;d<i;)u.set(n[d],d++)}const c=u.get(t[r]);if(c!=null)if(l<c&&c<i){let d=r,a=1,h;for(;++d<s&&d<i&&!((h=u.get(t[d]))==null||h!==c+a);)a++;if(a>c-l){const j=t[r];for(;l<c;)e.insertBefore(n[l++],j)}else e.replaceChild(n[l++],t[r++])}else r++;else t[r++].remove()}}}const xe="_$DX_DELEGATE";function xt(e,t,n,o={}){let s;return te(i=>{s=i,t===document?e():y(t,e(),t.firstChild?null:void 0,n)},o.owner),()=>{s(),t.textContent=""}}function b(e,t,n){let o;const s=()=>{const r=document.createElement("template");return r.innerHTML=e,n?r.content.firstChild.firstChild:r.content.firstChild},i=t?()=>R(()=>document.importNode(o||(o=s()),!0)):()=>(o||(o=s())).cloneNode(!0);return i.cloneNode=i,i}function ge(e,t=window.document){const n=t[xe]||(t[xe]=new Set);for(let o=0,s=e.length;o<s;o++){const i=e[o];n.has(i)||(n.add(i),t.addEventListener(i,Tt))}}function q(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Ot(e,t,n,o){o==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,o)}function jt(e,t){t==null?e.removeAttribute("class"):e.className=t}function kt(e,t,n,o){if(o)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const s=n[0];e.addEventListener(t,n[0]=i=>s.call(e,n[1],i))}else e.addEventListener(t,n)}function It(e,t,n={}){const o=Object.keys(t||{}),s=Object.keys(n);let i,r;for(i=0,r=s.length;i<r;i++){const l=s[i];!l||l==="undefined"||t[l]||(Oe(e,l,!1),delete n[l])}for(i=0,r=o.length;i<r;i++){const l=o[i],f=!!t[l];!l||l==="undefined"||n[l]===f||!f||(Oe(e,l,!0),n[l]=f)}return n}function Ke(e,t,n){if(!t)return n?q(e,"style"):t;const o=e.style;if(typeof t=="string")return o.cssText=t;typeof n=="string"&&(o.cssText=n=void 0),n||(n={}),t||(t={});let s,i;for(i in n)t[i]==null&&o.removeProperty(i),delete n[i];for(i in t)s=t[i],s!==n[i]&&(o.setProperty(i,s),n[i]=s);return n}function Ve(e,t={},n,o){const s={};return o||N(()=>s.children=H(e,t.children,s.children)),N(()=>t.ref&&t.ref(e)),N(()=>Et(e,t,n,!0,s,!0)),s}function $e(e,t,n){return R(()=>e(t,n))}function y(e,t,n,o){if(n!==void 0&&!o&&(o=[]),typeof t!="function")return H(e,t,o,n);N(s=>H(e,t(),s,n),o)}function Et(e,t,n,o,s={},i=!1){t||(t={});for(const r in s)if(!(r in t)){if(r==="children")continue;s[r]=je(e,r,null,s[r],n,i)}for(const r in t){if(r==="children"){o||H(e,t.children);continue}const l=t[r];s[r]=je(e,r,l,s[r],n,i)}}function Nt(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Oe(e,t,n){const o=t.trim().split(/\s+/);for(let s=0,i=o.length;s<i;s++)e.classList.toggle(o[s],n)}function je(e,t,n,o,s,i){let r,l,f,u,c;if(t==="style")return Ke(e,n,o);if(t==="classList")return It(e,n,o);if(n===o)return o;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);o&&e.removeEventListener(d,o),n&&e.addEventListener(d,n)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);o&&e.removeEventListener(d,o,!0),n&&e.addEventListener(d,n,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),a=St.has(d);if(!a&&o){const h=Array.isArray(o)?o[0]:o;e.removeEventListener(d,h)}(a||n)&&(kt(e,d,n,a),a&&ge([d]))}else if(t.slice(0,5)==="attr:")q(e,t.slice(5),n);else if((c=t.slice(0,5)==="prop:")||(f=mt.has(t))||!s&&((u=Ct(t,e.tagName))||(l=_t.has(t)))||(r=e.nodeName.includes("-")))c&&(t=t.slice(5),l=!0),t==="class"||t==="className"?jt(e,n):r&&!l&&!f?e[Nt(t)]=n:e[u||t]=n;else{const d=s&&t.indexOf(":")>-1&&vt[t.split(":")[0]];d?Ot(e,d,t,n):q(e,bt[t]||t,n)}return n}function Tt(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const o=n[t];if(o&&!n.disabled){const s=n[`${t}Data`];if(s!==void 0?o.call(n,s,e):o.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function H(e,t,n,o,s){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,r=o!==void 0;if(e=r&&n[0]&&n[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(t=t.toString()),r){let l=n[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),n=Q(e,n,o,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||i==="boolean")n=Q(e,n,o);else{if(i==="function")return N(()=>{let l=t();for(;typeof l=="function";)l=l();n=H(e,l,n,o)}),()=>n;if(Array.isArray(t)){const l=[],f=n&&Array.isArray(n);if(_e(l,t,n,s))return N(()=>n=H(e,l,n,o,!0)),()=>n;if(l.length===0){if(n=Q(e,n,o),r)return n}else f?n.length===0?ke(e,l,o):At(e,n,l):(n&&Q(e),ke(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(r)return n=Q(e,n,o,t);Q(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function _e(e,t,n,o){let s=!1;for(let i=0,r=t.length;i<r;i++){let l=t[i],f=n&&n[i],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))s=_e(e,l,f)||s;else if(u==="function")if(o){for(;typeof l=="function";)l=l();s=_e(e,Array.isArray(l)?l:[l],Array.isArray(f)?f:[f])||s}else e.push(l),s=!0;else{const c=String(l);f&&f.nodeType===3&&f.data===c?e.push(f):e.push(document.createTextNode(c))}}return s}function ke(e,t,n=null){for(let o=0,s=t.length;o<s;o++)e.insertBefore(t[o],n)}function Q(e,t,n,o){if(n===void 0)return e.textContent="";const s=o||document.createTextNode("");if(t.length){let i=!1;for(let r=t.length-1;r>=0;r--){const l=t[r];if(s!==l){const f=l.parentNode===e;!i&&!r?f?e.replaceChild(s,l):e.insertBefore(s,n):f&&l.remove()}else i=!0}}else e.insertBefore(s,n);return[s]}const le=Symbol("store-raw"),V=Symbol("store-node"),I=Symbol("store-has"),qe=Symbol("store-self");function He(e){let t=e[U];if(!t&&(Object.defineProperty(e,U,{value:t=new Proxy(e,Lt)}),!Array.isArray(e))){const n=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let s=0,i=n.length;s<i;s++){const r=n[s];o[r].get&&Object.defineProperty(e,r,{enumerable:o[r].enumerable,get:o[r].get.bind(t)})}}return t}function z(e){let t;return e!=null&&typeof e=="object"&&(e[U]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function F(e,t=new Set){let n,o,s,i;if(n=e!=null&&e[le])return n;if(!z(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let r=0,l=e.length;r<l;r++)s=e[r],(o=F(s,t))!==s&&(e[r]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const r=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let f=0,u=r.length;f<u;f++)i=r[f],!l[i].get&&(s=e[i],(o=F(s,t))!==s&&(e[i]=o))}return e}function ce(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Y(e,t,n){if(e[t])return e[t];const[o,s]=Me(n,{equals:!1,internal:!0});return o.$=s,e[t]=o}function Pt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===U||t===V||(delete n.value,delete n.writable,n.get=()=>e[U][t]),n}function ze(e){we()&&Y(ce(e,V),qe)()}function Mt(e){return ze(e),Reflect.ownKeys(e)}const Lt={get(e,t,n){if(t===le)return e;if(t===U)return n;if(t===pe)return ze(e),n;const o=ce(e,V),s=o[t];let i=s?s():e[t];if(t===V||t===I||t==="__proto__")return i;if(!s){const r=Object.getOwnPropertyDescriptor(e,t);we()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(r&&r.get)&&(i=Y(o,t,i)())}return z(i)?He(i):i},has(e,t){return t===le||t===U||t===pe||t===V||t===I||t==="__proto__"?!0:(we()&&Y(ce(e,I),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Mt,getOwnPropertyDescriptor:Pt};function W(e,t,n,o=!1){if(!o&&e[t]===n)return;const s=e[t],i=e.length;n===void 0?(delete e[t],e[I]&&e[I][t]&&s!==void 0&&e[I][t].$()):(e[t]=n,e[I]&&e[I][t]&&s===void 0&&e[I][t].$());let r=ce(e,V),l;if((l=Y(r,t,s))&&l.$(()=>n),Array.isArray(e)&&e.length!==i){for(let f=e.length;f<i;f++)(l=r[f])&&l.$();(l=Y(r,"length",i))&&l.$(e.length)}(l=r[qe])&&l.$()}function Fe(e,t){const n=Object.keys(t);for(let o=0;o<n.length;o+=1){const s=n[o];W(e,s,t[s])}}function Ut(e,t){if(typeof t=="function"&&(t=t(e)),t=F(t),Array.isArray(t)){if(e===t)return;let n=0,o=t.length;for(;n<o;n++){const s=t[n];e[n]!==s&&W(e,n,s)}W(e,"length",o)}else Fe(e,t)}function G(e,t,n=[]){let o,s=e;if(t.length>1){o=t.shift();const r=typeof o,l=Array.isArray(e);if(Array.isArray(o)){for(let f=0;f<o.length;f++)G(e,[o[f]].concat(t),n);return}else if(l&&r==="function"){for(let f=0;f<e.length;f++)o(e[f],f)&&G(e,[f].concat(t),n);return}else if(l&&r==="object"){const{from:f=0,to:u=e.length-1,by:c=1}=o;for(let d=f;d<=u;d+=c)G(e,[d].concat(t),n);return}else if(t.length>1){G(e[o],t,[o].concat(n));return}s=e[o],n=[o].concat(n)}let i=t[0];typeof i=="function"&&(i=i(s,n),i===s)||o===void 0&&i==null||(i=F(i),o===void 0||z(s)&&z(i)&&!Array.isArray(i)?Fe(s,i):W(e,o,i))}function Ce(...[e,t]){const n=F(e||{}),o=Array.isArray(n),s=He(n);function i(...r){ct(()=>{o&&r.length===1?Ut(n,r[0]):G(n,r)})}return[s,i]}const fe=new WeakMap,We={get(e,t){if(t===le)return e;const n=e[t];let o;return z(n)?fe.get(n)||(fe.set(n,o=new Proxy(n,We)),o):n},set(e,t,n){return W(e,t,F(n)),!0},deleteProperty(e,t){return W(e,t,void 0,!0),!0}};function O(e){return t=>{if(z(t)){let n;(n=fe.get(t))||fe.set(t,n=new Proxy(t,We)),e(n)}return t}}function Xe(e,t){e.ids.push(t.id),e.entities[t.id]=t,e.selectedIds!==void 0&&t.isSelected&&e.selectedIds.push(t.id)}function Ge(e,t){for(const n of t)Xe(e,n)}function Rt(e,t){e.ids=e.ids.filter(n=>n!==t),delete e.entities[t],e.selectedIds!==void 0&&(e.selectedIds=e.selectedIds.filter(n=>n!==t))}function Dt(e,t){e.ids=e.ids.filter(n=>!t.includes(n));for(const n of t)delete e.entities[n];e.selectedIds!==void 0&&(e.selectedIds=e.selectedIds.filter(n=>!t.includes(n)))}function Je(e,t){e.selectedIds!==void 0&&(t.isSelected&&!e.entities[t.id].isSelected?e.selectedIds.push(t.id):!t.isSelected&&e.entities[t.id].isSelected&&(e.selectedIds=e.selectedIds.filter(n=>n!==t.id)));for(const n of Object.keys(t))e.entities[t.id][n]=t[n]}function Bt(e,t){for(const n of t)Je(e,n)}function Ye(e){e.ids=[],e.entities={},e.selectedIds!==void 0&&(e.selectedIds=[])}function Qt(e,t){Ye(e),Ge(e,t)}function Ze(e,t){e.entities[t].isSelected||(e.entities[t].isSelected=!0,e.selectedIds.push(t))}function Kt(e,t){for(const n of t)Ze(e,n)}function et(e,t){e.entities[t].isSelected&&(e.entities[t].isSelected=!1,e.selectedIds=e.selectedIds.filter(n=>n!==t))}function Vt(e,t){for(const n of t)et(e,n)}function qt(e){for(const t of e.selectedIds)e.entities[t].isSelected=!1;e.selectedIds=[]}function Ht(e,t=!1){return{getInitialState:()=>{let n={ids:[],entities:{}};return t&&(n.selectedIds=[]),n.add=o=>{e()(O(s=>{Array.isArray(o)?Ge(s,o):Xe(s,o)}))},n.remove=o=>{e()(O(s=>{Array.isArray(o)?Dt(s,o):Rt(s,o)}))},n.update=o=>{e()(O(s=>{Array.isArray(o)?Bt(s,o):Je(s,o)}))},n.clear=()=>{e()(O(o=>{Ye(o)}))},n.reload=o=>{e()(O(s=>{Qt(s,o)}))},t&&(n.select=o=>{e()(O(s=>{Array.isArray(o)?Kt(s,o):Ze(s,o)}))},n.unselect=o=>{e()(O(s=>{Array.isArray(o)?Vt(s,o):et(s,o)}))},n.clearSelection=()=>{e()(O(o=>{qt(o)}))}),n}}}class zt{_disconnectCalls=[];constructor(){}autoConnect(t,n,o){const s=o.__id__;for(const[i,r]of Object.entries(t)){if(typeof r=="function")continue;const l=`${i}Changed`,f=o[l];f&&this.connect(f,c=>n(i,c),`${s}.${l}`);const u=o[i];u!==void 0&&n(i,u)}}connect(t,n,o=""){t.connect(n),this._disconnectCalls.push(()=>t.disconnect(n))}disconnectAll(){for(const t of this._disconnectCalls)t&&t();this._disconnectCalls.splice(0,this._disconnectCalls.length)}}const K=new zt;var v={signal:1,propertyUpdate:2,init:3,idle:4,debug:5,invokeMethod:6,connectToSignal:7,disconnectFromSignal:8,setProperty:9,response:10},tt=function(e,t,n){if(typeof e!="object"||typeof e.send!="function"){console.error("The QWebChannel expects a transport object with a send function and onmessage callback property. Given is: transport: "+typeof e+", transport.send: "+typeof e.send);return}var o=this;this.transport=e;var s={Date:function(i){if(typeof i=="string"&&i.match(/^-?\d+-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d*)?([-+\u2212](\d{2}):(\d{2})|Z)?$/)){var r=new Date(i);if(!isNaN(r))return r}}};if(this.usedConverters=[],this.addConverter=function(i){typeof i=="string"?s.hasOwnProperty(i)?this.usedConverters.push(s[i]):console.error("Converter '"+i+"' not found"):typeof i=="function"?this.usedConverters.push(i):console.error("Invalid converter object type "+typeof i)},Array.isArray(n))for(const i of n)this.addConverter(i);else n!==void 0&&this.addConverter(n);this.send=function(i){typeof i!="string"&&(i=JSON.stringify(i)),o.transport.send(i)},this.transport.onmessage=function(i){var r=i.data;switch(typeof r=="string"&&(r=JSON.parse(r)),r.type){case v.signal:o.handleSignal(r);break;case v.response:o.handleResponse(r);break;case v.propertyUpdate:o.handlePropertyUpdate(r);break;default:console.error("invalid message received:",i.data);break}},this.execCallbacks={},this.execId=0,this.exec=function(i,r){if(!r){o.send(i);return}if(o.execId===Number.MAX_VALUE&&(o.execId=Number.MIN_VALUE),i.hasOwnProperty("id")){console.error("Cannot exec message with property id: "+JSON.stringify(i));return}i.id=o.execId++,o.execCallbacks[i.id]=r,o.send(i)},this.objects={},this.handleSignal=function(i){var r=o.objects[i.object];r?r.signalEmitted(i.signal,i.args):console.warn("Unhandled signal: "+i.object+"::"+i.signal)},this.handleResponse=function(i){if(!i.hasOwnProperty("id")){console.error("Invalid response message received: ",JSON.stringify(i));return}o.execCallbacks[i.id](i.data),delete o.execCallbacks[i.id]},this.handlePropertyUpdate=function(i){i.data.forEach(r=>{var l=o.objects[r.object];l?l.propertyUpdate(r.signals,r.properties):console.warn("Unhandled property update: "+r.object+"::"+r.signal)}),o.exec({type:v.idle})},this.debug=function(i){o.send({type:v.debug,data:i})},o.exec({type:v.init},function(i){for(const r of Object.keys(i))new Se(r,i[r],o);for(const r of Object.keys(o.objects))o.objects[r].unwrapProperties();t&&t(o),o.exec({type:v.idle})})};function Se(e,t,n){this.__id__=e,n.objects[e]=this,this.__objectSignals__={},this.__propertyCache__={};var o=this;this.unwrapQObject=function(f){for(const h of n.usedConverters){var u=h(f);if(u!==void 0)return u}if(f instanceof Array)return f.map(h=>o.unwrapQObject(h));if(!(f instanceof Object))return f;if(!f["__QObject*__"]||f.id===void 0){var c={};for(const h of Object.keys(f))c[h]=o.unwrapQObject(f[h]);return c}var d=f.id;if(n.objects[d])return n.objects[d];if(!f.data){console.error("Cannot unwrap unknown QObject "+d+" without data.");return}var a=new Se(d,f.data,n);return a.destroyed.connect(function(){n.objects[d]===a&&(delete n.objects[d],Object.keys(a).forEach(h=>delete a[h]))}),a.unwrapProperties(),a},this.unwrapProperties=function(){for(const f of Object.keys(o.__propertyCache__))o.__propertyCache__[f]=o.unwrapQObject(o.__propertyCache__[f])};function s(f,u){var c=f[0],d=f[1];o[c]={connect:function(a){if(typeof a!="function"){console.error("Bad callback given to connect to signal "+c);return}o.__objectSignals__[d]=o.__objectSignals__[d]||[],o.__objectSignals__[d].push(a),!u&&(c==="destroyed"||c==="destroyed()"||c==="destroyed(QObject*)"||o.__objectSignals__[d].length==1&&n.exec({type:v.connectToSignal,object:o.__id__,signal:d}))},disconnect:function(a){if(typeof a!="function"){console.error("Bad callback given to disconnect from signal "+c);return}o.__objectSignals__[d]=(o.__objectSignals__[d]||[]).filter(function(h){return h!=a}),!u&&o.__objectSignals__[d].length===0&&n.exec({type:v.disconnectFromSignal,object:o.__id__,signal:d})}}}function i(f,u){var c=o.__objectSignals__[f];c&&c.forEach(function(d){d.apply(d,u)})}this.propertyUpdate=function(f,u){for(const d of Object.keys(u)){var c=u[d];o.__propertyCache__[d]=this.unwrapQObject(c)}for(const d of Object.keys(f))i(d,f[d])},this.signalEmitted=function(f,u){i(f,this.unwrapQObject(u))};function r(f){var u=f[0],c=f[1],d=u[u.length-1]===")"?c:u;o[u]=function(){for(var a=[],h=0;h<arguments.length;++h)a.push(arguments[h]);return new Promise((j,P)=>{n.exec({type:v.invokeMethod,object:o.__id__,method:d,args:a},function(M){if(M!==void 0){var D=o.unwrapQObject(M);j(D)}else P("Unknown error: Possible communication lost")})})}}function l(f){var u=f[0],c=f[1],d=f[2];o.__propertyCache__[u]=f[3],d&&(d[0]===1&&(d[0]=c+"Changed"),s(d,!0)),Object.defineProperty(o,c,{configurable:!0,get:function(){var a=o.__propertyCache__[u];return a===void 0&&console.warn('Undefined value in property cache for property "'+c+'" in object '+o.__id__),a},set:function(a){if(a===void 0){console.warn("Property setter for "+c+" called with undefined value!");return}o.__propertyCache__[u]=a;var h=a;n.exec({type:v.setProperty,object:o.__id__,property:u,value:h})}})}t.methods.forEach(r),t.properties.forEach(l),t.signals.forEach(function(f){s(f,!1)}),Object.assign(o,t.enums)}Se.prototype.toJSON=function(){return this.__id__===void 0?{}:{id:this.__id__,"__QObject*__":!0}};typeof me=="object"&&(me.exports={QWebChannel:tt});class Ft{_backend_socket_url;_serviceName;_ws;channel;constructor(t,n){this._backend_socket_url=t,this._serviceName=n,this._ws=null}isConnected(){return this._ws&&this._ws.readyState===WebSocket.OPEN}async connect(){return new Promise(async(t,n)=>{if(this.isConnected()){t(!0);return}this._ws=new WebSocket(this._backend_socket_url),this._ws.onerror=o=>n(`Error connecting to ${this._serviceName}`),this._ws.onclose=o=>n(`${this._serviceName} connection closed`),this._ws.onopen=o=>new tt(this._ws,async s=>{this.channel=s,await this.onChannelReady(s),t(o)})})}async disconnect(){return new Promise((t,n)=>{this._ws.close(1e3),this._ws.onclose=o=>t(o),this._ws.onerror=o=>n(o)})}}class Wt extends Ft{TodoController;constructor(){super("ws://localhost:9000","Command Transfer Service")}async onChannelReady(t){this.TodoController=t.objects.TodoController}}const S=new Wt;function ve(e){return t=>{e(O(t))}}const Xt=Ht(()=>ue,!0),[_,ue]=Ce({...Xt.getInitialState(),todoCount:0,setupConnections:async()=>{K.autoConnect(_,ue,S.TodoController),K.connect(S.TodoController.onAdd,t=>{_.add(t)}),K.connect(S.TodoController.onRemove,t=>{_.remove(t.id)}),K.connect(S.TodoController.todoUpdated,t=>{_.update(t)}),K.connect(S.TodoController.testSignal,(t,n,o,s)=>{console.log("Test Signal received"),console.log(t,n),console.log(o),console.log(s)}),await S.TodoController.testAction();const e=await S.TodoController.getTodos();if(!e.error&&e.data){const t=e.data;Gt(n=>{n.ids=t.ids,n.todoCount=t.todoCount,n.entities=t.entities,n.selectedIds=t.selectedIds})}else console.log(e)},toggleTodo:e=>{ue(O(t=>{const n=t.entities[e];n.completed=!n.completed}))}}),Gt=ve(ue),Jt=b("<div class=header>Todo App (#: <!>/<!>)");function Yt(){const e=ae(()=>{let t=0;for(const n of _.ids)_.entities[n].completed&&t++;return t});return(()=>{const t=Jt(),n=t.firstChild,o=n.nextSibling,s=o.nextSibling,i=s.nextSibling;return i.nextSibling,y(t,e,o),y(t,()=>_.todoCount,i),t})()}let ee;const Zt=new Uint8Array(16);function en(){if(!ee&&(ee=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ee))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ee(Zt)}const w=[];for(let e=0;e<256;++e)w.push((e+256).toString(16).slice(1));function tn(e,t=0){return w[e[t+0]]+w[e[t+1]]+w[e[t+2]]+w[e[t+3]]+"-"+w[e[t+4]]+w[e[t+5]]+"-"+w[e[t+6]]+w[e[t+7]]+"-"+w[e[t+8]]+w[e[t+9]]+"-"+w[e[t+10]]+w[e[t+11]]+w[e[t+12]]+w[e[t+13]]+w[e[t+14]]+w[e[t+15]]}const nn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ie={randomUUID:nn};function on(e,t,n){if(Ie.randomUUID&&!t&&!e)return Ie.randomUUID();e=e||{};const o=e.random||(e.rng||en)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=o[s];return t}return tn(o)}const sn=b('<svg stroke=currentColor fill=currentColor stroke-width=0 viewBox="0 0 512 512"height=200px width=200px xmlns=http://www.w3.org/2000/svg><path fill=none stroke-miterlimit=10 stroke-width=32 d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"></path><path fill=none stroke-linecap=round stroke-linejoin=round stroke-width=32 d="M256 176v160m80-80H176">');function rn(){return sn()}const ln="/assets/error-Hgwq9Qgv.png",cn="/assets/warning-ww5msCoP.png",fn="/assets/info-XDyka_N9.png",un="/assets/success-n42HuFq7.png",dn="/assets/question-3urebS3a.png",an=b('<svg stroke=currentColor fill=currentColor stroke-width=0 version=1.1 viewBox="0 0 16 16"height=1em width=1em xmlns=http://www.w3.org/2000/svg><path d="M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z">'),Ee=e=>(()=>{const t=an();return Ve(t,e,!0,!0),t})(),hn=b('<svg stroke=currentColor fill=currentColor stroke-width=0 version=1.1 viewBox="0 0 16 16"height=1em width=1em xmlns=http://www.w3.org/2000/svg><path d="M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z">'),gn=e=>(()=>{const t=hn();return Ve(t,e,!0,!0),t})(),yn=b("<dialog class=dialog><div class=messageBoxContent><div class=title><p></p></div><div class=imageMessage><img><div></div></div><div class=controls>"),pn=b("<button class=button>Yes "),wn=b("<button class=button>No "),_n=b("<button class=button>OK ");let J=function(e){return e.OK="OK",e.Cancel="Cancel",e.Yes="Yes",e.No="No",e}({});const[C,nt]=Ce({dialogRef:null,type:"error",title:"",message:"",dialogResult:J.OK,error:(e,t="")=>{L(n=>{n.type="error",n.message=e,n.title=t===""?"Error":t,n.dialogRef?.showModal()})},warning:(e,t="")=>{L(n=>{n.type="warning",n.message=e,n.title=t===""?"Warning":t,n.dialogRef?.showModal()})},info:(e,t="")=>{L(n=>{n.type="info",n.message=e,n.title=t===""?"Information":t,n.dialogRef?.showModal()})},success:(e,t="")=>{L(n=>{n.type="success",n.message=e,n.title=t===""?"Successful":t,n.dialogRef?.showModal()})},question:(e,t="")=>new Promise(n=>{const o=()=>{L(s=>{s.dialogRef?.removeEventListener("close",o),n(s.dialogResult)})};L(s=>{s.type="question",s.message=e,s.title=t===""?"???":t,s.dialogRef?.showModal(),s.dialogRef?.addEventListener("close",o)})}),close:e=>{L(t=>{t.message="",t.dialogResult=e??J.OK,t.dialogRef?.close()})}}),L=ve(nt),mn=()=>{const e={error:ln,warning:cn,info:fn,success:un,question:dn};return(()=>{const t=yn(),n=t.firstChild,o=n.firstChild,s=o.firstChild,i=o.nextSibling,r=i.firstChild,l=r.nextSibling,f=i.nextSibling;return $e(u=>nt("dialogRef",u),t),y(s,()=>C.title),y(l,()=>C.message),y(f,(()=>{const u=ae(()=>C.type==="question");return()=>u()?[(()=>{const c=pn();return c.firstChild,c.$$click=async()=>C.close(J.Yes),y(c,$(Ee,{class:"tickIcon"}),null),c})(),(()=>{const c=wn();return c.firstChild,c.$$click=async()=>C.close(J.No),y(c,$(gn,{class:"crossIcon"}),null),c})()]:(()=>{const c=_n();return c.firstChild,c.$$click=async()=>C.close(J.OK),y(c,$(Ee,{class:"tickIcon"}),null),c})()})()),N(u=>{const c=e[C.type],d=C.type;return c!==u._v$&&q(r,"src",u._v$=c),d!==u._v$2&&q(r,"alt",u._v$2=d),u},{_v$:void 0,_v$2:void 0}),t})()};ge(["click"]);const bn=b("<div class=todoInput-container><input class=todoInput-input><button>");function $n(){let e;const t=async()=>{if(e.value.trim()){try{const o=await S.TodoController.add({id:on(),text:e.value.trim(),completed:!1,isSelected:!1});if(o.error)throw new Error(o.error)}catch(o){C.error(`${o}`)}e.value=""}};async function n(o){o.key==="Enter"&&await t()}return(()=>{const o=bn(),s=o.firstChild,i=s.nextSibling;s.$$keyup=n;const r=e;return typeof r=="function"?$e(r,s):e=s,i.$$click=t,y(i,$(rn,{})),o})()}ge(["keyup","click"]);const Cn=b('<svg stroke=currentColor fill=currentColor stroke-width=0 viewBox="0 0 24 24"height=200px width=200px xmlns=http://www.w3.org/2000/svg><path fill=none d="M0 0h24v24H0V0z"></path><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z">');function Sn(){return Cn()}const vn=b('<svg stroke=currentColor fill=currentColor stroke-width=0 viewBox="0 0 512 512"height=200px width=200px xmlns=http://www.w3.org/2000/svg><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z">');function An(){return vn()}const xn=b('<svg stroke=currentColor fill=currentColor stroke-width=0 viewBox="0 0 512 512"xmlns=http://www.w3.org/2000/svg><path d="M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm48.19 121.42l24.1 21.06-73.61 84.1-24.1-23.06zM191.93 342.63L121.37 272 144 249.37 214.57 320zm65 .79L185.55 272l22.64-22.62 47.16 47.21 111.13-127.17 24.1 21.06z">');function On(e){return(()=>{const t=xn();return N(n=>Ke(t,e.style,n)),t})()}const jn=b("<div class=todo><div class=status></div><span></span><button>");function kn(e){const t=async()=>{try{const n=await S.TodoController.update({..._.entities[e],completed:!_.entities[e].completed});if(n.error)throw new Error(n.error)}catch(n){C.error(`${n}`)}};return(()=>{const n=jn(),o=n.firstChild,s=o.nextSibling,i=s.nextSibling;return o.$$click=t,y(o,(()=>{const r=ae(()=>!!_.entities[e].completed);return()=>r()?$(On,{style:"color: green; height: 30px; width: 30px;"}):$(An,{})})()),y(s,()=>_.entities[e].text),y(n,()=>_.entities[e].isSelected?"selected":null,i),i.$$click=async()=>{try{if(await C.question("Are you sure you want to delete this todo?")==="No")return;const l=await S.TodoController.remove(e);if(l.error)throw new Error(l.error)}catch(r){C.error(`${r}`)}},y(i,$(Sn,{})),N(()=>(_.entities[e].completed?"line-through":"none")!=null?s.style.setProperty("text-decoration",_.entities[e].completed?"line-through":"none"):s.style.removeProperty("text-decoration")),n})()}ge(["click"]);const In=b("<div class=todoList>");function En(){return(()=>{const e=In();return y(e,$(pt,{get each(){return _.ids},children:kn})),e})()}const Nn="/assets/busydialog-DpKE6quu.gif",Tn=b('<dialog class=dialog><div class=busyDialogContent><img alt="Busy Dialog gif"><p>'),[ne,ot]=Ce({dialogRef:null,message:"",isOpen:!1,show:e=>{Ne(t=>{t.message=e,t.dialogRef?.showModal()})},close:()=>{Ne(e=>{e.message="",e.dialogRef?.close()})}}),Ne=ve(ot),Pn=()=>(()=>{const e=Tn(),t=e.firstChild,n=t.firstChild,o=n.nextSibling;return $e(s=>ot("dialogRef",s),e),q(n,"src",Nn),y(o,()=>ne.message),e})(),Mn=b("<div class=appContainer>");function Ln(){return ft(async()=>{try{ne.show("Connecting to server..."),await S.connect(),await _.setupConnections(),ne.close()}catch(e){ne.close(),C.error(`${e}`),console.log(e)}}),Le(()=>{K.disconnectAll(),S.disconnect().then()}),(()=>{const e=Mn();return y(e,$(Yt,{}),null),y(e,$($n,{}),null),y(e,$(En,{}),null),y(e,$(Pn,{}),null),y(e,$(mn,{}),null),e})()}const Un=document.getElementById("root");xt(()=>$(Ln,{}),Un)});export default Rn();
