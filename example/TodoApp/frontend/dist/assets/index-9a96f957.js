var He=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Gt=He((Yt,ae)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const We=(e,t)=>e===t,N=Symbol("solid-proxy"),fe=Symbol("solid-track"),X={equals:We};let me=xe;const I=1,Y=2,Se={owned:null,cleanups:null,context:null,owner:null};var y=null;let ce=null,p=null,b=null,$=null,se=0;function G(e,t){const n=p,o=y,r=e.length===0,i=t===void 0?o:t,s=r?Se:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=r?e:()=>e(()=>U(()=>le(s)));y=s,p=null;try{return W(l,!0)}finally{p=n,y=o}}function Ce(e,t){t=t?Object.assign({},X,t):X;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},o=r=>(typeof r=="function"&&(r=r(n.value)),je(n,r));return[Ae.bind(n),o]}function F(e,t,n){const o=pe(e,t,!1,I);J(o)}function ze(e,t,n){me=Ge;const o=pe(e,t,!1,I);(!n||!n.render)&&(o.user=!0),$?$.push(o):J(o)}function he(e,t,n){n=n?Object.assign({},X,n):X;const o=pe(e,t,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,J(o),Ae.bind(o)}function Fe(e){return W(e,!1)}function U(e){if(p===null)return e();const t=p;p=null;try{return e()}finally{p=t}}function Ke(e){ze(()=>U(e))}function ve(e){return y===null||(y.cleanups===null?y.cleanups=[e]:y.cleanups.push(e)),e}function ue(){return p}function Ae(){if(this.sources&&this.state)if(this.state===I)J(this);else{const e=b;b=null,W(()=>ee(this),!1),b=e}if(p){const e=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(e)):(p.sources=[this],p.sourceSlots=[e]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function je(e,t,n){let o=e.value;return(!e.comparator||!e.comparator(o,t))&&(e.value=t,e.observers&&e.observers.length&&W(()=>{for(let r=0;r<e.observers.length;r+=1){const i=e.observers[r],s=ce&&ce.running;s&&ce.disposed.has(i),(s?!i.tState:!i.state)&&(i.pure?b.push(i):$.push(i),i.observers&&Oe(i)),s||(i.state=I)}if(b.length>1e6)throw b=[],new Error},!1)),t}function J(e){if(!e.fn)return;le(e);const t=se;Je(e,e.value,t)}function Je(e,t,n){let o;const r=y,i=p;p=y=e;try{o=e.fn(t)}catch(s){return e.pure&&(e.state=I,e.owned&&e.owned.forEach(le),e.owned=null),e.updatedAt=n+1,$e(s)}finally{p=i,y=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?je(e,o):e.value=o,e.updatedAt=n)}function pe(e,t,n,o=I,r){const i={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:y,context:y?y.context:null,pure:n};return y===null||y!==Se&&(y.owned?y.owned.push(i):y.owned=[i]),i}function Z(e){if(e.state===0)return;if(e.state===Y)return ee(e);if(e.suspense&&U(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<se);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===I)J(e);else if(e.state===Y){const o=b;b=null,W(()=>ee(e,t[0]),!1),b=o}}function W(e,t){if(b)return e();let n=!1;t||(b=[]),$?n=!0:$=[],se++;try{const o=e();return qe(n),o}catch(o){n||($=null),b=null,$e(o)}}function qe(e){if(b&&(xe(b),b=null),e)return;const t=$;$=null,t.length&&W(()=>me(t),!1)}function xe(e){for(let t=0;t<e.length;t++)Z(e[t])}function Ge(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:Z(o)}for(t=0;t<n;t++)Z(e[t])}function ee(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const o=e.sources[n];if(o.sources){const r=o.state;r===I?o!==t&&(!o.updatedAt||o.updatedAt<se)&&Z(o):r===Y&&ee(o,t)}}}function Oe(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Y,n.pure?b.push(n):$.push(n),n.observers&&Oe(n))}}function le(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),o=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const i=r.pop(),s=n.observerSlots.pop();o<r.length&&(i.sourceSlots[s]=o,r[o]=i,n.observerSlots[o]=s)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)le(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Xe(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function $e(e,t=y){throw Xe(e)}const Ye=Symbol("fallback");function ge(e){for(let t=0;t<e.length;t++)e[t]()}function Ze(e,t,n={}){let o=[],r=[],i=[],s=0,l=t.length>1?[]:null;return ve(()=>ge(i)),()=>{let c=e()||[],u,f;return c[fe],U(()=>{let a=c.length,h,j,P,E,M,C,v,x,L;if(a===0)s!==0&&(ge(i),i=[],o=[],r=[],s=0,l&&(l=[])),n.fallback&&(o=[Ye],r[0]=G(Ve=>(i[0]=Ve,n.fallback())),s=1);else if(s===0){for(r=new Array(a),f=0;f<a;f++)o[f]=c[f],r[f]=G(d);s=a}else{for(P=new Array(a),E=new Array(a),l&&(M=new Array(a)),C=0,v=Math.min(s,a);C<v&&o[C]===c[C];C++);for(v=s-1,x=a-1;v>=C&&x>=C&&o[v]===c[x];v--,x--)P[x]=r[v],E[x]=i[v],l&&(M[x]=l[v]);for(h=new Map,j=new Array(x+1),f=x;f>=C;f--)L=c[f],u=h.get(L),j[f]=u===void 0?-1:u,h.set(L,f);for(u=C;u<=v;u++)L=o[u],f=h.get(L),f!==void 0&&f!==-1?(P[f]=r[u],E[f]=i[u],l&&(M[f]=l[u]),f=j[f],h.set(L,f)):i[u]();for(f=C;f<a;f++)f in P?(r[f]=P[f],i[f]=E[f],l&&(l[f]=M[f],l[f](f))):r[f]=G(d);r=r.slice(0,s=a),o=c.slice(0)}return r});function d(a){if(i[f]=a,l){const[h,j]=Ce(f);return l[f]=j,t(c[f],h)}return t(c[f])}}}function k(e,t){return U(()=>e(t||{}))}function et(e){const t="fallback"in e&&{fallback:()=>e.fallback};return he(Ze(()=>e.each,e.children,t||void 0))}function tt(e,t,n){let o=n.length,r=t.length,i=o,s=0,l=0,c=t[r-1].nextSibling,u=null;for(;s<r||l<i;){if(t[s]===n[l]){s++,l++;continue}for(;t[r-1]===n[i-1];)r--,i--;if(r===s){const f=i<o?l?n[l-1].nextSibling:n[i-l]:c;for(;l<i;)e.insertBefore(n[l++],f)}else if(i===l)for(;s<r;)(!u||!u.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[i-1]&&n[l]===t[r-1]){const f=t[--r].nextSibling;e.insertBefore(n[l++],t[s++].nextSibling),e.insertBefore(n[--i],f),t[r]=n[i]}else{if(!u){u=new Map;let d=l;for(;d<i;)u.set(n[d],d++)}const f=u.get(t[s]);if(f!=null)if(l<f&&f<i){let d=s,a=1,h;for(;++d<r&&d<i&&!((h=u.get(t[d]))==null||h!==f+a);)a++;if(a>f-l){const j=t[s];for(;l<f;)e.insertBefore(n[l++],j)}else e.replaceChild(n[l++],t[s++])}else s++;else t[s++].remove()}}}const _e="_$DX_DELEGATE";function nt(e,t,n,o={}){let r;return G(i=>{r=i,t===document?e():m(t,e(),t.firstChild?null:void 0,n)},o.owner),()=>{r(),t.textContent=""}}function T(e,t,n){let o;const r=()=>{const s=document.createElement("template");return s.innerHTML=e,n?s.content.firstChild.firstChild:s.content.firstChild},i=t?()=>U(()=>document.importNode(o||(o=r()),!0)):()=>(o||(o=r())).cloneNode(!0);return i.cloneNode=i,i}function ke(e,t=window.document){const n=t[_e]||(t[_e]=new Set);for(let o=0,r=e.length;o<r;o++){const i=e[o];n.has(i)||(n.add(i),t.addEventListener(i,st))}}function ot(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function it(e,t,n){if(!t)return n?ot(e,"style"):t;const o=e.style;if(typeof t=="string")return o.cssText=t;typeof n=="string"&&(o.cssText=n=void 0),n||(n={}),t||(t={});let r,i;for(i in n)t[i]==null&&o.removeProperty(i),delete n[i];for(i in t)r=t[i],r!==n[i]&&(o.setProperty(i,r),n[i]=r);return n}function rt(e,t,n){return U(()=>e(t,n))}function m(e,t,n,o){if(n!==void 0&&!o&&(o=[]),typeof t!="function")return te(e,t,o,n);F(r=>te(e,t(),r,n),o)}function st(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const o=n[t];if(o&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?o.call(n,r,e):o.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function te(e,t,n,o,r){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,s=o!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(t=t.toString()),s){let l=n[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),n=D(e,n,o,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||i==="boolean")n=D(e,n,o);else{if(i==="function")return F(()=>{let l=t();for(;typeof l=="function";)l=l();n=te(e,l,n,o)}),()=>n;if(Array.isArray(t)){const l=[],c=n&&Array.isArray(n);if(de(l,t,n,r))return F(()=>n=te(e,l,n,o,!0)),()=>n;if(l.length===0){if(n=D(e,n,o),s)return n}else c?n.length===0?be(e,l,o):tt(e,n,l):(n&&D(e),be(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=D(e,n,o,t);D(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function de(e,t,n,o){let r=!1;for(let i=0,s=t.length;i<s;i++){let l=t[i],c=n&&n[i],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))r=de(e,l,c)||r;else if(u==="function")if(o){for(;typeof l=="function";)l=l();r=de(e,Array.isArray(l)?l:[l],Array.isArray(c)?c:[c])||r}else e.push(l),r=!0;else{const f=String(l);c&&c.nodeType===3&&c.data===f?e.push(c):e.push(document.createTextNode(f))}}return r}function be(e,t,n=null){for(let o=0,r=t.length;o<r;o++)e.insertBefore(t[o],n)}function D(e,t,n,o){if(n===void 0)return e.textContent="";const r=o||document.createTextNode("");if(t.length){let i=!1;for(let s=t.length-1;s>=0;s--){const l=t[s];if(r!==l){const c=l.parentNode===e;!i&&!s?c?e.replaceChild(r,l):e.insertBefore(r,n):c&&l.remove()}else i=!0}}else e.insertBefore(r,n);return[r]}const ne=Symbol("store-raw"),B=Symbol("store-node"),O=Symbol("store-has"),Te=Symbol("store-self");function Ie(e){let t=e[N];if(!t&&(Object.defineProperty(e,N,{value:t=new Proxy(e,ft)}),!Array.isArray(e))){const n=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let r=0,i=n.length;r<i;r++){const s=n[r];o[s].get&&Object.defineProperty(e,s,{enumerable:o[s].enumerable,get:o[s].get.bind(t)})}}return t}function Q(e){let t;return e!=null&&typeof e=="object"&&(e[N]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function V(e,t=new Set){let n,o,r,i;if(n=e!=null&&e[ne])return n;if(!Q(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,l=e.length;s<l;s++)r=e[s],(o=V(r,t))!==r&&(e[s]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let c=0,u=s.length;c<u;c++)i=s[c],!l[i].get&&(r=e[i],(o=V(r,t))!==r&&(e[i]=o))}return e}function oe(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function K(e,t,n){if(e[t])return e[t];const[o,r]=Ce(n,{equals:!1,internal:!0});return o.$=r,e[t]=o}function lt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===N||t===B||(delete n.value,delete n.writable,n.get=()=>e[N][t]),n}function Pe(e){ue()&&K(oe(e,B),Te)()}function ct(e){return Pe(e),Reflect.ownKeys(e)}const ft={get(e,t,n){if(t===ne)return e;if(t===N)return n;if(t===fe)return Pe(e),n;const o=oe(e,B),r=o[t];let i=r?r():e[t];if(t===B||t===O||t==="__proto__")return i;if(!r){const s=Object.getOwnPropertyDescriptor(e,t);ue()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(i=K(o,t,i)())}return Q(i)?Ie(i):i},has(e,t){return t===ne||t===N||t===fe||t===B||t===O||t==="__proto__"?!0:(ue()&&K(oe(e,O),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:ct,getOwnPropertyDescriptor:lt};function H(e,t,n,o=!1){if(!o&&e[t]===n)return;const r=e[t],i=e.length;n===void 0?(delete e[t],e[O]&&e[O][t]&&r!==void 0&&e[O][t].$()):(e[t]=n,e[O]&&e[O][t]&&r===void 0&&e[O][t].$());let s=oe(e,B),l;if((l=K(s,t,r))&&l.$(()=>n),Array.isArray(e)&&e.length!==i){for(let c=e.length;c<i;c++)(l=s[c])&&l.$();(l=K(s,"length",i))&&l.$(e.length)}(l=s[Te])&&l.$()}function Ee(e,t){const n=Object.keys(t);for(let o=0;o<n.length;o+=1){const r=n[o];H(e,r,t[r])}}function ut(e,t){if(typeof t=="function"&&(t=t(e)),t=V(t),Array.isArray(t)){if(e===t)return;let n=0,o=t.length;for(;n<o;n++){const r=t[n];e[n]!==r&&H(e,n,r)}H(e,"length",o)}else Ee(e,t)}function z(e,t,n=[]){let o,r=e;if(t.length>1){o=t.shift();const s=typeof o,l=Array.isArray(e);if(Array.isArray(o)){for(let c=0;c<o.length;c++)z(e,[o[c]].concat(t),n);return}else if(l&&s==="function"){for(let c=0;c<e.length;c++)o(e[c],c)&&z(e,[c].concat(t),n);return}else if(l&&s==="object"){const{from:c=0,to:u=e.length-1,by:f=1}=o;for(let d=c;d<=u;d+=f)z(e,[d].concat(t),n);return}else if(t.length>1){z(e[o],t,[o].concat(n));return}r=e[o],n=[o].concat(n)}let i=t[0];typeof i=="function"&&(i=i(r,n),i===r)||o===void 0&&i==null||(i=V(i),o===void 0||Q(r)&&Q(i)&&!Array.isArray(i)?Ee(r,i):H(e,o,i))}function dt(...[e,t]){const n=V(e||{}),o=Array.isArray(n),r=Ie(n);function i(...s){Fe(()=>{o&&s.length===1?ut(n,s[0]):z(n,s)})}return[r,i]}const ie=new WeakMap,Ne={get(e,t){if(t===ne)return e;const n=e[t];let o;return Q(n)?ie.get(n)||(ie.set(n,o=new Proxy(n,Ne)),o):n},set(e,t,n){return H(e,t,V(n)),!0},deleteProperty(e,t){return H(e,t,void 0,!0),!0}};function A(e){return t=>{if(Q(t)){let n;(n=ie.get(t))||ie.set(t,n=new Proxy(t,Ne)),e(n)}return t}}function Ue(e,t){e.ids.push(t.id),e.entities[t.id]=t,e.selectedIds!==void 0&&t.isSelected&&e.selectedIds.push(t.id)}function Me(e,t){for(const n of t)Ue(e,n)}function at(e,t){e.ids=e.ids.filter(n=>n!==t),delete e.entities[t],e.selectedIds!==void 0&&(e.selectedIds=e.selectedIds.filter(n=>n!==t))}function ht(e,t){e.ids=e.ids.filter(n=>!t.includes(n));for(const n of t)delete e.entities[n];e.selectedIds!==void 0&&(e.selectedIds=e.selectedIds.filter(n=>!t.includes(n)))}function Le(e,t){e.selectedIds!==void 0&&(t.isSelected&&!e.entities[t.id].isSelected?e.selectedIds.push(t.id):!t.isSelected&&e.entities[t.id].isSelected&&(e.selectedIds=e.selectedIds.filter(n=>n!==t.id)));for(const n of Object.keys(t))e.entities[t.id][n]=t[n]}function pt(e,t){for(const n of t)Le(e,n)}function De(e){e.ids=[],e.entities={},e.selectedIds!==void 0&&(e.selectedIds=[])}function yt(e,t){De(e),Me(e,t)}function Re(e,t){e.entities[t].isSelected||(e.entities[t].isSelected=!0,e.selectedIds.push(t))}function gt(e,t){for(const n of t)Re(e,n)}function Be(e,t){e.entities[t].isSelected&&(e.entities[t].isSelected=!1,e.selectedIds=e.selectedIds.filter(n=>n!==t))}function _t(e,t){for(const n of t)Be(e,n)}function bt(e){for(const t of e.selectedIds)e.entities[t].isSelected=!1;e.selectedIds=[]}function wt(e,t=!1){return{getInitialState:()=>{let n={ids:[],entities:{}};return t&&(n.selectedIds=[]),n.add=o=>{e()(A(r=>{Array.isArray(o)?Me(r,o):Ue(r,o)}))},n.remove=o=>{e()(A(r=>{Array.isArray(o)?ht(r,o):at(r,o)}))},n.update=o=>{e()(A(r=>{Array.isArray(o)?pt(r,o):Le(r,o)}))},n.clear=()=>{e()(A(o=>{De(o)}))},n.reload=o=>{e()(A(r=>{yt(r,o)}))},t&&(n.select=o=>{e()(A(r=>{Array.isArray(o)?gt(r,o):Re(r,o)}))},n.unselect=o=>{e()(A(r=>{Array.isArray(o)?_t(r,o):Be(r,o)}))},n.clearSelection=()=>{e()(A(o=>{bt(o)}))}),n}}}class mt{_disconnectCalls=[];constructor(){}autoConnect(t,n,o){const r=o.__id__;for(const[i,s]of Object.entries(t)){if(typeof s=="function")continue;const l=`${i}Changed`,c=o[l];c&&this.connect(c,f=>n(i,f),`${r}.${l}`);const u=o[i];u!==void 0&&n(i,u)}}connect(t,n,o=""){t.connect(n),this._disconnectCalls.push(()=>t.disconnect(n))}disconnectAll(){for(const t of this._disconnectCalls)t&&t();this._disconnectCalls.splice(0,this._disconnectCalls.length)}}const R=new mt;var S={signal:1,propertyUpdate:2,init:3,idle:4,debug:5,invokeMethod:6,connectToSignal:7,disconnectFromSignal:8,setProperty:9,response:10},Qe=function(e,t,n){if(typeof e!="object"||typeof e.send!="function"){console.error("The QWebChannel expects a transport object with a send function and onmessage callback property. Given is: transport: "+typeof e+", transport.send: "+typeof e.send);return}var o=this;this.transport=e;var r={Date:function(i){if(typeof i=="string"&&i.match(/^-?\d+-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d*)?([-+\u2212](\d{2}):(\d{2})|Z)?$/)){var s=new Date(i);if(!isNaN(s))return s}}};if(this.usedConverters=[],this.addConverter=function(i){typeof i=="string"?r.hasOwnProperty(i)?this.usedConverters.push(r[i]):console.error("Converter '"+i+"' not found"):typeof i=="function"?this.usedConverters.push(i):console.error("Invalid converter object type "+typeof i)},Array.isArray(n))for(const i of n)this.addConverter(i);else n!==void 0&&this.addConverter(n);this.send=function(i){typeof i!="string"&&(i=JSON.stringify(i)),o.transport.send(i)},this.transport.onmessage=function(i){var s=i.data;switch(typeof s=="string"&&(s=JSON.parse(s)),s.type){case S.signal:o.handleSignal(s);break;case S.response:o.handleResponse(s);break;case S.propertyUpdate:o.handlePropertyUpdate(s);break;default:console.error("invalid message received:",i.data);break}},this.execCallbacks={},this.execId=0,this.exec=function(i,s){if(!s){o.send(i);return}if(o.execId===Number.MAX_VALUE&&(o.execId=Number.MIN_VALUE),i.hasOwnProperty("id")){console.error("Cannot exec message with property id: "+JSON.stringify(i));return}i.id=o.execId++,o.execCallbacks[i.id]=s,o.send(i)},this.objects={},this.handleSignal=function(i){var s=o.objects[i.object];s?s.signalEmitted(i.signal,i.args):console.warn("Unhandled signal: "+i.object+"::"+i.signal)},this.handleResponse=function(i){if(!i.hasOwnProperty("id")){console.error("Invalid response message received: ",JSON.stringify(i));return}o.execCallbacks[i.id](i.data),delete o.execCallbacks[i.id]},this.handlePropertyUpdate=function(i){i.data.forEach(s=>{var l=o.objects[s.object];l?l.propertyUpdate(s.signals,s.properties):console.warn("Unhandled property update: "+s.object+"::"+s.signal)}),o.exec({type:S.idle})},this.debug=function(i){o.send({type:S.debug,data:i})},o.exec({type:S.init},function(i){for(const s of Object.keys(i))new ye(s,i[s],o);for(const s of Object.keys(o.objects))o.objects[s].unwrapProperties();t&&t(o),o.exec({type:S.idle})})};function ye(e,t,n){this.__id__=e,n.objects[e]=this,this.__objectSignals__={},this.__propertyCache__={};var o=this;this.unwrapQObject=function(c){for(const h of n.usedConverters){var u=h(c);if(u!==void 0)return u}if(c instanceof Array)return c.map(h=>o.unwrapQObject(h));if(!(c instanceof Object))return c;if(!c["__QObject*__"]||c.id===void 0){var f={};for(const h of Object.keys(c))f[h]=o.unwrapQObject(c[h]);return f}var d=c.id;if(n.objects[d])return n.objects[d];if(!c.data){console.error("Cannot unwrap unknown QObject "+d+" without data.");return}var a=new ye(d,c.data,n);return a.destroyed.connect(function(){n.objects[d]===a&&(delete n.objects[d],Object.keys(a).forEach(h=>delete a[h]))}),a.unwrapProperties(),a},this.unwrapProperties=function(){for(const c of Object.keys(o.__propertyCache__))o.__propertyCache__[c]=o.unwrapQObject(o.__propertyCache__[c])};function r(c,u){var f=c[0],d=c[1];o[f]={connect:function(a){if(typeof a!="function"){console.error("Bad callback given to connect to signal "+f);return}o.__objectSignals__[d]=o.__objectSignals__[d]||[],o.__objectSignals__[d].push(a),!u&&(f==="destroyed"||f==="destroyed()"||f==="destroyed(QObject*)"||o.__objectSignals__[d].length==1&&n.exec({type:S.connectToSignal,object:o.__id__,signal:d}))},disconnect:function(a){if(typeof a!="function"){console.error("Bad callback given to disconnect from signal "+f);return}o.__objectSignals__[d]=(o.__objectSignals__[d]||[]).filter(function(h){return h!=a}),!u&&o.__objectSignals__[d].length===0&&n.exec({type:S.disconnectFromSignal,object:o.__id__,signal:d})}}}function i(c,u){var f=o.__objectSignals__[c];f&&f.forEach(function(d){d.apply(d,u)})}this.propertyUpdate=function(c,u){for(const d of Object.keys(u)){var f=u[d];o.__propertyCache__[d]=this.unwrapQObject(f)}for(const d of Object.keys(c))i(d,c[d])},this.signalEmitted=function(c,u){i(c,this.unwrapQObject(u))};function s(c){var u=c[0],f=c[1],d=u[u.length-1]===")"?f:u;o[u]=function(){for(var a=[],h=0;h<arguments.length;++h)a.push(arguments[h]);return new Promise((j,P)=>{n.exec({type:S.invokeMethod,object:o.__id__,method:d,args:a},function(E){if(E!==void 0){var M=o.unwrapQObject(E);j(M)}else P("Unknown error: Possible communication lost")})})}}function l(c){var u=c[0],f=c[1],d=c[2];o.__propertyCache__[u]=c[3],d&&(d[0]===1&&(d[0]=f+"Changed"),r(d,!0)),Object.defineProperty(o,f,{configurable:!0,get:function(){var a=o.__propertyCache__[u];return a===void 0&&console.warn('Undefined value in property cache for property "'+f+'" in object '+o.__id__),a},set:function(a){if(a===void 0){console.warn("Property setter for "+f+" called with undefined value!");return}o.__propertyCache__[u]=a;var h=a;n.exec({type:S.setProperty,object:o.__id__,property:u,value:h})}})}t.methods.forEach(s),t.properties.forEach(l),t.signals.forEach(function(c){r(c,!1)}),Object.assign(o,t.enums)}ye.prototype.toJSON=function(){return this.__id__===void 0?{}:{id:this.__id__,"__QObject*__":!0}};typeof ae=="object"&&(ae.exports={QWebChannel:Qe});class St{_backend_socket_url;_serviceName;_ws;channel;constructor(t,n){this._backend_socket_url=t,this._serviceName=n,this._ws=null}isConnected(){return this._ws&&this._ws.readyState===WebSocket.OPEN}async connect(){return new Promise(async(t,n)=>{if(this.isConnected()){t(!0);return}this._ws=new WebSocket(this._backend_socket_url),this._ws.onerror=o=>n(`Error connecting to ${this._serviceName}`),this._ws.onclose=o=>n(`${this._serviceName} connection closed`),this._ws.onopen=o=>new Qe(this._ws,async r=>{this.channel=r,await this.onChannelReady(r),t(o)})})}async disconnect(){return new Promise((t,n)=>{this._ws.close(1e3),this._ws.onclose=o=>t(o),this._ws.onerror=o=>n(o)})}}class Ct extends St{TodoController;constructor(){super("ws://localhost:9000","Command Transfer Service")}async onChannelReady(t){this.TodoController=this.channel.objects.TodoController}}const w=new Ct;function vt(e){return t=>{e(A(t))}}const At=wt(()=>re,!0),[_,re]=dt({...At.getInitialState(),todoCount:0,setupConnections:async()=>{R.autoConnect(_,re,w.TodoController),R.connect(w.TodoController.onAdd,t=>{_.add(t)}),R.connect(w.TodoController.onRemove,t=>{_.remove(t.id)}),R.connect(w.TodoController.todoUpdated,t=>{_.update(t)}),R.connect(w.TodoController.testSignal,(t,n,o,r)=>{console.log("Test Signal received"),console.log(t,n),console.log(o),console.log(r)}),await w.TodoController.testAction();const e=await w.TodoController.getTodos();if(!e.error&&e.data){const t=e.data;jt(n=>{n.ids=t.ids,n.todoCount=t.todoCount,n.entities=t.entities,n.selectedIds=t.selectedIds})}else console.log(e)},toggleTodo:e=>{re(A(t=>{const n=t.entities[e];n.completed=!n.completed}))}}),jt=vt(re),xt=T("<div class=header>Todo App (#: <!>/<!>)");function Ot(e){const t=he(()=>{let n=0;for(const o of _.ids)_.entities[o].completed&&n++;return n});return(()=>{const n=xt(),o=n.firstChild,r=o.nextSibling,i=r.nextSibling,s=i.nextSibling;return s.nextSibling,m(n,t,r),m(n,()=>_.todoCount,s),n})()}let q;const $t=new Uint8Array(16);function kt(){if(!q&&(q=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!q))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return q($t)}const g=[];for(let e=0;e<256;++e)g.push((e+256).toString(16).slice(1));function Tt(e,t=0){return g[e[t+0]]+g[e[t+1]]+g[e[t+2]]+g[e[t+3]]+"-"+g[e[t+4]]+g[e[t+5]]+"-"+g[e[t+6]]+g[e[t+7]]+"-"+g[e[t+8]]+g[e[t+9]]+"-"+g[e[t+10]]+g[e[t+11]]+g[e[t+12]]+g[e[t+13]]+g[e[t+14]]+g[e[t+15]]}const It=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),we={randomUUID:It};function Pt(e,t,n){if(we.randomUUID&&!t&&!e)return we.randomUUID();e=e||{};const o=e.random||(e.rng||kt)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=o[r];return t}return Tt(o)}const Et=T('<svg stroke=currentColor fill=currentColor stroke-width=0 viewBox="0 0 512 512"height=200px width=200px xmlns=http://www.w3.org/2000/svg><path fill=none stroke-miterlimit=10 stroke-width=32 d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"></path><path fill=none stroke-linecap=round stroke-linejoin=round stroke-width=32 d="M256 176v160m80-80H176">');function Nt(){return Et()}const Ut=T("<div class=todo-input><input><button>");function Mt(e){let t;const n=async()=>{if(!t.value.trim())return;const r=await w.TodoController.add({id:Pt(),text:t.value.trim(),completed:!1,isSelected:!1});r.error&&console.log(r.error),t.value=""};async function o(r){r.key==="Enter"&&await n()}return(()=>{const r=Ut(),i=r.firstChild,s=i.nextSibling;i.$$keyup=o;const l=t;return typeof l=="function"?rt(l,i):t=i,s.$$click=n,m(s,k(Nt,{})),r})()}ke(["keyup","click"]);const Lt=T('<svg stroke=currentColor fill=currentColor stroke-width=0 viewBox="0 0 24 24"height=200px width=200px xmlns=http://www.w3.org/2000/svg><path fill=none d="M0 0h24v24H0V0z"></path><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z">');function Dt(){return Lt()}const Rt=T('<svg stroke=currentColor fill=currentColor stroke-width=0 viewBox="0 0 512 512"height=200px width=200px xmlns=http://www.w3.org/2000/svg><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z">');function Bt(){return Rt()}const Qt=T('<svg stroke=currentColor fill=currentColor stroke-width=0 viewBox="0 0 512 512"xmlns=http://www.w3.org/2000/svg><path d="M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm48.19 121.42l24.1 21.06-73.61 84.1-24.1-23.06zM191.93 342.63L121.37 272 144 249.37 214.57 320zm65 .79L185.55 272l22.64-22.62 47.16 47.21 111.13-127.17 24.1 21.06z">');function Vt(e){return(()=>{const t=Qt();return F(n=>it(t,e.style,n)),t})()}const Ht=T("<div class=todo><div class=todo-status></div><span></span><button>");function Wt(e){const t=async()=>{const n=await w.TodoController.update({..._.entities[e],completed:!_.entities[e].completed});n.error&&console.log(n.error)};return(()=>{const n=Ht(),o=n.firstChild,r=o.nextSibling,i=r.nextSibling;return o.$$click=t,m(o,(()=>{const s=he(()=>!!_.entities[e].completed);return()=>s()?k(Vt,{style:"color: green; height: 30px; width: 30px;"}):k(Bt,{})})()),m(r,()=>_.entities[e].text),m(n,()=>_.entities[e].isSelected?"selected":null,i),i.$$click=async()=>{const s=await w.TodoController.remove(e);s.error&&console.log(s.error)},m(i,k(Dt,{})),F(()=>(_.entities[e].completed?"line-through":"none")!=null?r.style.setProperty("text-decoration",_.entities[e].completed?"line-through":"none"):r.style.removeProperty("text-decoration")),n})()}ke(["click"]);const zt=T("<div class=todo-list>");function Ft(e){return(()=>{const t=zt();return m(t,k(et,{get each(){return _.ids},children:Wt})),t})()}const Kt=T("<div class=app-container>");function Jt(){return Ke(async()=>{try{await w.connect(),await _.setupConnections()}catch(e){console.log(e)}}),ve(()=>{R.disconnectAll(),w.disconnect().then()}),(()=>{const e=Kt();return m(e,k(Ot,{}),null),m(e,k(Mt,{}),null),m(e,k(Ft,{}),null),e})()}const qt=document.getElementById("root");nt(()=>k(Jt,{}),qt)});export default Gt();
